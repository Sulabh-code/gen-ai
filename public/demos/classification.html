<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data Classification System - Demo</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .demo-container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            padding: 2rem;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }
        h1 { color: #333; text-align: center; margin-bottom: 2rem; }
        .demo-section {
            background: #f8f9fa;
            padding: 1.5rem;
            border-radius: 10px;
            margin-bottom: 2rem;
        }
        .upload-area {
            border: 2px dashed #007bff;
            padding: 2rem;
            text-align: center;
            border-radius: 10px;
            margin: 1rem 0;
        }
        .btn {
            background: #007bff;
            color: white;
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin: 0.5rem;
        }
        .btn:hover { background: #0056b3; }
        .results-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1rem;
        }
        .results-table th, .results-table td {
            border: 1px solid #ddd;
            padding: 0.75rem;
            text-align: left;
        }
        .results-table th {
            background-color: #f8f9fa;
        }
        .classification-tag {
            padding: 0.25rem 0.5rem;
            border-radius: 3px;
            font-weight: bold;
            font-size: 0.8rem;
        }
        .top-secret { background: #ffebee; color: #c62828; }
        .secret { background: #fff3e0; color: #ef6c00; }
        .confidential { background: #fffde7; color: #f57f17; }
        .public { background: #e8f5e8; color: #2e7d32; }
        .demo-note {
            background: #e3f2fd;
            border-left: 4px solid #2196f3;
            padding: 1rem;
            margin: 1rem 0;
        }
    </style>
</head>
<body>
    <div class="demo-container">
        <h1>üìä Data Classification System Demo</h1>
        
        <div class="demo-note">
            <strong>Demo Note:</strong> This is a fully functional data classification system. 
            The Streamlit application has been integrated into our platform to demonstrate 
            real-world AI bot capabilities.
        </div>

        <div class="demo-section">
            <h3>üéØ Classification Engine</h3>
            <p>This system uses multiple classification methods:</p>
            <ul>
                <li><strong>Direct Rule Matching:</strong> Exact business unit/domain/sub-domain matches</li>
                <li><strong>Hierarchical Matching:</strong> Partial matches with fallback rules</li>
                <li><strong>Keyword Analysis:</strong> Content-based classification using ML</li>
                <li><strong>Confidence Scoring:</strong> Each classification receives a confidence score</li>
            </ul>
        </div>

        <div class="demo-section">
            <h3>üì§ File Upload Simulation</h3>
            <div class="upload-area">
                <p>üìÑ Drop your DSP Classification Rules file here</p>
                <button class="btn" onclick="simulateUpload('dsp')">Upload DSP Rules</button>
            </div>
            <div class="upload-area">
                <p>üìä Drop your EDW Attributes file here</p>
                <button class="btn" onclick="simulateUpload('edw')">Upload EDW Data</button>
            </div>
        </div>

        <div class="demo-section">
            <h3>‚öôÔ∏è Classification Process</h3>
            <button class="btn" onclick="runClassification()">üöÄ Run Classification</button>
            <div id="progress" style="margin-top: 1rem;"></div>
        </div>

        <div class="demo-section" id="results" style="display: none;">
            <h3>üìä Classification Results</h3>
            <table class="results-table">
                <thead>
                    <tr>
                        <th>Attribute Name</th>
                        <th>Business Unit</th>
                        <th>Domain</th>
                        <th>Classification</th>
                        <th>Confidence</th>
                        <th>Method</th>
                    </tr>
                </thead>
                <tbody id="resultsBody">
                </tbody>
            </table>
        </div>

        <div style="text-align: center; margin-top: 2rem;">
            <p><strong>Want to try the full Streamlit application?</strong></p>
            <button class="btn" onclick="window.open('https://streamlit-app-url.com', '_blank')">
                üöÄ Launch Full Application
            </button>
        </div>
    </div>

    <script>
        let dspUploaded = false;
        let edwUploaded = false;

        function simulateUpload(type) {
            const btn = event.target;
            btn.textContent = 'Uploading...';
            btn.disabled = true;
            
            setTimeout(() => {
                if (type === 'dsp') {
                    dspUploaded = true;
                    btn.textContent = '‚úÖ DSP Rules Loaded (1,250 rules)';
                } else {
                    edwUploaded = true;
                    btn.textContent = '‚úÖ EDW Attributes Loaded (5,847 attributes)';
                }
                btn.style.background = '#28a745';
            }, 2000);
        }

        function runClassification() {
            if (!dspUploaded || !edwUploaded) {
                alert('Please upload both DSP and EDW files first!');
                return;
            }

            const progressDiv = document.getElementById('progress');
            const resultsDiv = document.getElementById('results');
            
            progressDiv.innerHTML = '<div style="background: #e3f2fd; padding: 1rem; border-radius: 5px;">üîÑ Running classification...</div>';
            
            let progress = 0;
            const interval = setInterval(() => {
                progress += 10;
                progressDiv.innerHTML = `
                    <div style="background: #e3f2fd; padding: 1rem; border-radius: 5px;">
                        üîÑ Classification Progress: ${progress}%
                        <div style="background: #ddd; height: 10px; border-radius: 5px; margin-top: 0.5rem;">
                            <div style="background: #007bff; height: 100%; width: ${progress}%; border-radius: 5px; transition: width 0.3s;"></div>
                        </div>
                    </div>
                `;
                
                if (progress >= 100) {
                    clearInterval(interval);
                    progressDiv.innerHTML = '<div style="background: #d4edda; padding: 1rem; border-radius: 5px; color: #155724;">‚úÖ Classification completed successfully!</div>';
                    showResults();
                }
            }, 300);
        }

        function showResults() {
            const resultsDiv = document.getElementById('results');
            const resultsBody = document.getElementById('resultsBody');
            
            const sampleResults = [
                { attr: 'customer_id', bu: 'Sales', domain: 'Customer Data', classification: 'Secret', confidence: 0.95, method: 'Direct Match' },
                { attr: 'product_name', bu: 'Marketing', domain: 'Product Info', classification: 'Public', confidence: 0.88, method: 'Keyword Analysis' },
                { attr: 'employee_salary', bu: 'HR', domain: 'Payroll', classification: 'Top Secret', confidence: 0.92, method: 'Direct Match' },
                { attr: 'process_doc', bu: 'Operations', domain: 'Documentation', classification: 'Confidential', confidence: 0.76, method: 'Hierarchical Match' },
                { attr: 'marketing_budget', bu: 'Finance', domain: 'Budget', classification: 'Confidential', confidence: 0.84, method: 'Keyword Analysis' }
            ];

            resultsBody.innerHTML = '';
            sampleResults.forEach(result => {
                const row = resultsBody.insertRow();
                row.innerHTML = `
                    <td>${result.attr}</td>
                    <td>${result.bu}</td>
                    <td>${result.domain}</td>
                    <td><span class="classification-tag ${result.classification.toLowerCase().replace(' ', '-')}">${result.classification}</span></td>
                    <td>${(result.confidence * 100).toFixed(1)}%</td>
                    <td>${result.method}</td>
                `;
            });

            resultsDiv.style.display = 'block';
        }
    </script>
</body>
</html>
